<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <meta charset="UTF-8">
        <link href="css/bootstrap.css" rel="stylesheet" type="text/css"/>
        <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
        <link href="css/newCascadeStyleSheet.css" rel="stylesheet" type="text/css"/>
        <script src="css/jquery-1.10.2.min.js"></script>
        <title></title>
    </head>
    <body>
        <div class="row" style="width: 90%; height: auto" >
            <div class="col-sm-9" >
                <form class="form-horizontal" id="form1">
                    <fieldset>
                        <legend>Chọn chuyến bay</legend>
                    </fieldset>
                    <table class="table table-striped table-hover">
                        <thead>
                            <tr class="info">
                              <th>Mã</th>
                              <th>Nơi đi</th>
                              <th>Nơi đến</th>
                              <th>Ngày</th>
                              <th>Giờ</th>
                              <th>Thương Gia A</th>
                              <th>Thương Gia B</th>
                              <th>Thương Gia c</th>
                              <th>Phổ Thông A</th>
                              <th>Phổ Thông B</th>
                              <th>Phổ Thông C</th>
                            </tr>
                        </thead>
                         <tbody id="cc">

                         </tbody>
                    </table>

                </form>
                <form class="form-horizontal" id="form2">
                    <table class="table table-striped table-hover" id="cc1">
                    </table>
                </form>
                <div class="row">
                    <div class="col-sm-10"></div>
                    <div class="col-sm-2">
                        <button class="btn btn-primary btn-sm">Tiếp tục</button>
                    </div>
                </div>
            </div>
            <div class="col-sm-3">
                <div class="list-group">
                    <div class="list-group-item-heading">
                        <h4>Tóm tắt chuyến đi</h4>
                    </div>
                    <div id="chieudi">

                    </div>
                    <div class="list-group-item">
                        <div>Hành khách: 1</div>
                        <div>Giá cước: 3.000.000</div>
                        <div>Thuế: 200.000</div>
                        <div class="row">
                            <div class="col-sm-1"></div>
                            <div class="col-sm-5" style="color: red">
                                Tổng Cộng:
                            </div>
                            <div class="col-sm-4" style="color: red">
                                3.200.000
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
    <script type="text/javascript">

        $.ajax({
            type: 'GET',
            url: '2chieu.json',
            data: '',
            dataType: 'json',
            success: function (data) {
                var Huyen = '<tdbody id="cc">';
                var Huyen1 = '<table class="table table-striped table-hover" id="cc1">  <thead>'+
                        '<tr class="info">'+
                        '<th>Mã</th>'+
                        '<th>Nơi đi</th>'+
                '<th>Nơi đến</th>'+
                '<th>Ngày</th>'+
                '<th>Giờ</th>'+
                '<th>Thương Gia A</th>'+
                '<th>Thương Gia B</th>'+
                '<th>Thương Gia c</th>'+
                '<th>Phổ Thông A</th>'+
                '<th>Phổ Thông B</th>'+
                '<th>Phổ Thông C</th>'+
                '</tr>'+
                '</thead> <tdbody id="ccc1">';
                for (var i = 0; i < data.trave[0].chieudi.length; i++) {
                    Huyen = Huyen +'<tr><td>';
                    Huyen = Huyen + data.trave[0].chieudi[i].ma + '</td><td>';
                    Huyen = Huyen + data.trave[0].chieudi[i].noidi + '</td><td>';
                    Huyen = Huyen + data.trave[0].chieudi[i].noiden + '</td><td>';
                    Huyen = Huyen + data.trave[0].chieudi[i].ngaydi + '</td><td>';
                    Huyen = Huyen + data.trave[0].chieudi[i].gio + '</td>';
                    var vitriYA = -1;
                    var vitriYB = -1;
                    var vitriYC = -1;
                    var vitriCA = -1;
                    var vitriCB = -1;
                    var vitriCC = -1;
                    for(var j = 0 ; j < data.trave[0].chieudi[i].ve.length; j++){
                        if(data.trave[0].chieudi[i].ve[j].hang === "Y" && data.trave[0].chieudi[i].ve[j].muc === "A")
                        {
                            vitriYA = j;
                        }

                        if(data.trave[0].chieudi[i].ve[j].hang === "Y" && data.trave[0].chieudi[i].ve[j].muc === "B")
                        {
                            vitriYB = j;
                        }

                        if(data.trave[0].chieudi[i].ve[j].hang === "Y" && data.trave[0].chieudi[i].ve[j].muc === "C")
                        {
                            vitriYC = j;
                        }
                        if(data.trave[0].chieudi[i].ve[j].hang === "C" && data.trave[0].chieudi[i].ve[j].muc === "A")
                        {
                            vitriCA = j;
                        }
                        if(data.trave[0].chieudi[i].ve[j].hang === "C" && data.trave[0].chieudi[i].ve[j].muc === "B")
                        {
                            vitriCB = j;
                        }
                        if(data.trave[0].chieudi[i].ve[j].hang === "C" && data.trave[0].chieudi[i].ve[j].muc === "C")
                        {
                            vitriCC = j;
                        }
                    }
                    /*Tạo ô cho vé hạng Y mức A*/
                    if( vitriYA != -1){
                        Huyen = Huyen + '<td>';
                        Huyen = Huyen + '<input type="radio" name="optionsRadios" ' +
                                'id="optionsRadios' + 0 + '" value=" ' + data.trave[0].chieudi[i].ve[vitriYA].gia + '">' +
                                data.trave[0].chieudi[i].ve[vitriYA].gia + '</td>';
                    }else {
                        Huyen = Huyen + '<td> </td>';
                    }

                    /*Tạo ô cho vé hạng Y mức B*/
                    if( vitriYB != -1){
                        Huyen = Huyen + '<td>';
                        Huyen = Huyen + '<input type="radio" name="optionsRadios" ' +
                                'id="optionsRadios' + 1 + '" value=" ' + data.trave[0].chieudi[i].ve[vitriYB].gia + '">' +
                                data.trave[0].chieudi[i].ve[vitriYB].gia + '</td>';
                    }else {
                        Huyen = Huyen + '<td> </td>';
                    }

                    /*Tạo ô cho vé hạng Y mức C*/
                    if( vitriYC != -1){
                        Huyen = Huyen + '<td>';
                        Huyen = Huyen + '<input type="radio" name="optionsRadios" ' +
                                'id="optionsRadios' + 2 + '" value=" ' + data.trave[0].chieudi[i].ve[vitriYC].gia + '">' +
                                data.trave[0].chieudi[i].ve[vitriYC].gia + '</td>';
                    }else {
                        Huyen = Huyen + '<td> </td>';
                    }

                    /*Tạo ô cho vé hạng C mức A*/
                    if(vitriCA != -1){
                        Huyen = Huyen + '<td>';
                        Huyen = Huyen + '<input type="radio" name="optionsRadios" ' +
                                'id="optionsRadios' + 3 + '" value=" ' + data.trave[0].chieudi[i].ve[vitriCA].gia + '">' +
                                data.trave[0].chieudi[i].ve[vitriCA].gia + '</td>';
                    }else {
                        Huyen = Huyen + '<td> </td>';
                    }

                    /*Tạo ô cho vé hạng C mức B*/
                    if(vitriCB != -1){
                        Huyen = Huyen + '<td>';
                        Huyen = Huyen + '<input type="radio" name="optionsRadios" ' +
                                'id="optionsRadios' + 4 + '" value=" ' + data.trave[0].chieudi[i].ve[vitriCB].gia + '">' +
                                data.trave[0].chieudi[i].ve[vitriCB].gia + '</td>';
                    }else {
                        Huyen = Huyen + '<td> </td>';
                    }

                    /*Tạo ô cho vé hạng C mức C*/
                    if(vitriCC != -1){
                        Huyen = Huyen + '<td>';
                        Huyen = Huyen + '<input type="radio" name="optionsRadios" ' +
                                'id="optionsRadios' + 5 + '" value=" ' + data.trave[0].chieudi[i].ve[vitriCC].gia + '">' +
                                data.trave[0].chieudi[i].ve[vitriCC].gia + '</td>';
                    }else {
                        Huyen = Huyen + '<td> </td>';
                    }


                        $('#cc').html(Huyen)
                }


                for (var i = 0; i < data.trave[1].chieuve.length; i++) {
                    Huyen1 = Huyen1 + '<tr><td>';
                    Huyen1 = Huyen1 + data.trave[1].chieuve[i].ma + '</td><td>';
                    Huyen1 = Huyen1 + data.trave[1].chieuve[i].noidi + '</td><td>';
                    Huyen1 = Huyen1 + data.trave[1].chieuve[i].noiden + '</td><td>';
                    Huyen1 = Huyen1 + data.trave[1].chieuve[i].ngaydi + '</td><td>';
                    Huyen1 = Huyen1 + data.trave[1].chieuve[i].gio + '</td>';
                    var vitriYA = -1;
                    var vitriYB = -1;
                    var vitriYC = -1;
                    var vitriCA = -1;
                    var vitriCB = -1;
                    var vitriCC = -1;
                    for (var j = 0; j < data.trave[1].chieuve[i].ve.length; j++) {
                        if (data.trave[1].chieuve[i].ve[j].hang === "Y" && data.trave[1].chieuve[i].ve[j].muc === "A") {
                            vitriYA = j;
                        }

                        if (data.trave[1].chieuve[i].ve[j].hang === "Y" && data.trave[1].chieuve[i].ve[j].muc === "B") {
                            vitriYB = j;
                        }

                        if (data.trave[1].chieuve[i].ve[j].hang === "Y" && data.trave[1].chieuve[i].ve[j].muc === "C") {
                            vitriYC = j;
                        }
                        if (data.trave[1].chieuve[i].ve[j].hang === "C" && data.trave[1].chieuve[i].ve[j].muc === "A") {
                            vitriCA = j;
                        }
                        if (data.trave[1].chieuve[i].ve[j].hang === "C" && data.trave[1].chieuve[i].ve[j].muc === "B") {
                            vitriCB = j;
                        }
                        if (data.trave[1].chieuve[i].ve[j].hang === "C" && data.trave[1].chieuve[i].ve[j].muc === "C") {
                            vitriCC = j;
                        }
                    }
                    /*Tạo ô cho vé hạng Y mức A*/
                    if (vitriYA != -1) {
                        Huyen1 = Huyen1 + '<td>';
                        Huyen1 = Huyen1 + '<input type="radio" name="optionsRadios" ' +
                                'id="optionsRadios' + 6 + '" value=" ' + data.trave[1].chieuve[i].ve[vitriYA].gia + '">' +
                                data.trave[1].chieuve[i].ve[vitriYA].gia + '</td>';
                    } else {
                        Huyen1 = Huyen1 + '<td> </td>';
                    }

                    /*Tạo ô cho vé hạng Y mức B*/
                    if (vitriYB != -1) {
                        Huyen1 = Huyen1 + '<td>';
                        Huyen1 = Huyen1 + '<input type="radio" name="optionsRadios" ' +
                                'id="optionsRadios' + 7 + '" value=" ' + data.trave[1].chieuve[i].ve[vitriYB].gia + '">' +
                                data.trave[1].chieuve[i].ve[vitriYB].gia + '</td>';
                    } else {
                        Huyen1 = Huyen1 + '<td> </td>';
                    }

                    /*Tạo ô cho vé hạng Y mức C*/
                    if (vitriYC != -1) {
                        Huyen1 = Huyen1 + '<td>';
                        Huyen1 = Huyen1 + '<input type="radio" name="optionsRadios" ' +
                                'id="optionsRadios' + 8 + '" value=" ' + data.trave[1].chieuve[i].ve[vitriYC].gia + '">' +
                                data.trave[1].chieuve[i].ve[vitriYC].gia + '</td>';
                    } else {
                        Huyen1 = Huyen1 + '<td> </td>';
                    }

                    /*Tạo ô cho vé hạng C mức A*/
                    if (vitriCA != -1) {
                        Huyen1 = Huyen1 + '<td>';
                        Huyen1 = Huyen1 + '<input type="radio" name="optionsRadios" ' +
                                'id="optionsRadios' + 9 + '" value=" ' + data.trave[1].chieuve[i].ve[vitriCA].gia + '">' +
                                data.trave[1].chieuve[i].ve[vitriCA].gia + '</td>';
                    } else {
                        Huyen1 = Huyen1 + '<td> </td>';
                    }

                    /*Tạo ô cho vé hạng C mức B*/
                    if (vitriCB != -1) {
                        Huyen1 = Huyen1 + '<td>';
                        Huyen1 = Huyen1 + '<input type="radio" name="optionsRadios" ' +
                                'id="optionsRadios' + 10 + '" value=" ' + data.trave[1].chieuve[i].ve[vitriCB].gia + '">' +
                                data.trave[1].chieuve[i].ve[vitriCB].gia + '</td>';
                    } else {
                        Huyen1 = Huyen1 + '<td> </td>';
                    }

                    /*Tạo ô cho vé hạng C mức C*/
                    if (vitriCC != -1) {
                        Huyen1 = Huyen1 + '<td>';
                        Huyen1 = Huyen1 + '<input type="radio" name="optionsRadios" ' +
                                'id="optionsRadios' + 11 + '" value=" ' + data.trave[1].chieuve[i].ve[vitriCC].gia + '">' +
                                data.trave[1].chieuve[i].ve[vitriCC].gia + '</td>';
                    } else {
                        Huyen1 = Huyen1 + '<td> </td>';
                    }
                }
                    Huyen1 = Huyen1 + '</tdbody></table>';
                    $('#cc1').html(Huyen1)
            } // Success Function
        });
        $( "body" ).on( "click","#optionsRadios0", function() {

            var Huyen = '<div class="list-group-item" id="chieudi"> <div>Chiều đi</div> <div>';
            Huyen = Huyen + 'Chuyến bay:  ' + $(this).parents('tr').find('td:eq(0)').html() + '</div> <div>' ;
            Huyen = Huyen + 'Khởi hành:  ' + $(this).parents('tr').find('td:eq(1)').html() + '</div> <div>';
            Huyen = Huyen + 'Nơi đến:  ' + $(this).parents('tr').find('td:eq(2)').html() + '</div> <div>';
            Huyen = Huyen + 'Ngày đi:  ' + $(this).parents('tr').find('td:eq(3)').html() + '</div> <div>';
            Huyen = Huyen + 'Giờ:  ' + $(this).parents('tr').find('td:eq(4)').html() + '</div> <div>';
            var a = document.getElementById("optionsRadios0").value;
            Huyen = Huyen + 'Giá vé:  ' + a + '</div> </div>';

            $('#chieudi').html(Huyen);

        });
        $( "body" ).on( "click","#optionsRadios1", function() {
            var Huyen = '<div class="list-group-item" id="chieudi"> <div>Chiều đi</div> <div>';
            Huyen = Huyen + 'Chuyến bay:  ' + $(this).parents('tr').find('td:eq(0)').html() + '</div> <div>' ;
            Huyen = Huyen + 'Khởi hành:  ' + $(this).parents('tr').find('td:eq(1)').html() + '</div> <div>';
            Huyen = Huyen + 'Nơi đến:  ' + $(this).parents('tr').find('td:eq(2)').html() + '</div> <div>';
            Huyen = Huyen + 'Ngày đi:  ' + $(this).parents('tr').find('td:eq(3)').html() + '</div> <div>';
            Huyen = Huyen + 'Giờ:  ' + $(this).parents('tr').find('td:eq(4)').html() + '</div> <div>';

            var a = document.getElementById("optionsRadios1").value;
            Huyen = Huyen + 'Giá vé:  ' + a + '</div> </div>';
            $('#chieudi').html(Huyen);
        });
        $( "body" ).on( "click","#optionsRadios2", function() {
            var Huyen = '<div class="list-group-item" id="chieudi"> <div>Chiều đi</div> <div>';
            Huyen = Huyen + 'Chuyến bay:  ' + $(this).parents('tr').find('td:eq(0)').html() + '</div> <div>' ;
            Huyen = Huyen + 'Khởi hành:  ' + $(this).parents('tr').find('td:eq(1)').html() + '</div> <div>';
            Huyen = Huyen + 'Nơi đến:  ' + $(this).parents('tr').find('td:eq(2)').html() + '</div> <div>';
            Huyen = Huyen + 'Ngày đi:  ' + $(this).parents('tr').find('td:eq(3)').html() + '</div> <div>';
            Huyen = Huyen + 'Giờ:  ' + $(this).parents('tr').find('td:eq(4)').html() + '</div> <div>';
            var a = document.getElementById("optionsRadios2").value;
            Huyen = Huyen + 'Giá vé:  ' + a + '</div> </div>';
            $('#chieudi').html(Huyen);
        });
        $( "body" ).on( "click","#optionsRadios3", function() {
            var Huyen = '<div class="list-group-item" id="chieudi"> <div>Chiều đi</div> <div>';
            Huyen = Huyen + 'Chuyến bay:  ' + $(this).parents('tr').find('td:eq(0)').html() + '</div> <div>' ;
            Huyen = Huyen + 'Khởi hành:  ' + $(this).parents('tr').find('td:eq(1)').html() + '</div> <div>';
            Huyen = Huyen + 'Nơi đến:  ' + $(this).parents('tr').find('td:eq(2)').html() + '</div> <div>';
            Huyen = Huyen + 'Ngày đi:  ' + $(this).parents('tr').find('td:eq(3)').html() + '</div> <div>';
            Huyen = Huyen + 'Giờ:  ' + $(this).parents('tr').find('td:eq(4)').html() + '</div> <div>';
            var a = document.getElementById("optionsRadios3").value;
            Huyen = Huyen + 'Giá vé:  ' + a + '</div> </div>';
            $('#chieudi').html(Huyen);
        });
        $( "body" ).on( "click","#optionsRadios4", function() {
            var Huyen = '<div class="list-group-item" id="chieudi"> <div>Chiều đi</div> <div>';
            Huyen = Huyen + 'Chuyến bay:  ' + $(this).parents('tr').find('td:eq(0)').html() + '</div> <div>' ;
            Huyen = Huyen + 'Khởi hành:  ' + $(this).parents('tr').find('td:eq(1)').html() + '</div> <div>';
            Huyen = Huyen + 'Nơi đến:  ' + $(this).parents('tr').find('td:eq(2)').html() + '</div> <div>';
            Huyen = Huyen + 'Ngày đi:  ' + $(this).parents('tr').find('td:eq(3)').html() + '</div> <div>';
            Huyen = Huyen + 'Giờ:  ' + $(this).parents('tr').find('td:eq(4)').html() + '</div> <div>';
            var a = document.getElementById("optionsRadios4").value;
            Huyen = Huyen + 'Giá vé:  ' + a + '</div> </div>';
            $('#chieudi').html(Huyen);
        });
        $( "body" ).on( "click","#optionsRadios5", function() {
            var Huyen = '<div class="list-group-item" id="chieudi"> <div>Chiều đi</div> <div>';
            Huyen = Huyen + 'Chuyến bay:  ' + $(this).parents('tr').find('td:eq(0)').html() + '</div> <div>' ;
            Huyen = Huyen + 'Khởi hành:  ' + $(this).parents('tr').find('td:eq(1)').html() + '</div> <div>';
            Huyen = Huyen + 'Nơi đến:  ' + $(this).parents('tr').find('td:eq(2)').html() + '</div> <div>';
            Huyen = Huyen + 'Ngày đi:  ' + $(this).parents('tr').find('td:eq(3)').html() + '</div> <div>';
            Huyen = Huyen + 'Giờ:  ' + $(this).parents('tr').find('td:eq(4)').html() + '</div> <div>';
            var a = document.getElementById("optionsRadios5").value;
            Huyen = Huyen + 'Giá vé:  ' + a + '</div> </div>';
            $('#chieudi').html(Huyen);
        });
        $("#inputTu").change(function(){
            $.ajax({
                type: 'POST',
                url: 'aaa.json',
                data:{
                    name: 'abc',
                    id:'zyd'

                },
                dataType: 'json',
                success: function (data) {
                    var Huyen = '<datalist id="html1">';
                    for (var i = 0; i < data.Sb.length; i++) {
                        for (var j = 0; j < data.Sb[i].sanbay.length; j++) {
                            Huyen = Huyen + '<option  value="' + data.Sb[i].sanbay[j].ten +
                                    '  ('+ data.Sb[i].sanbay[j].ma  + ' )'
                                    + '">' + '</option>';
                        }
                    }
                    Huyen = Huyen + '</datalist>';
                    $('#inputDen').html(Huyen);
                } // Success Function
            });
        });

        /*
        $('body').on('click', 'a.actionbtn', function () {



            if (a == "") {
                document.getElementById('InputEmail').value = document.getElementById('InputEmail').value
                        + $(this).parents('tr').find('td:eq(1)').html() + ";";
            }
            else {
                if (a.indexOf($(this).parents('tr').find('td:eq(1)').html().toString()) == -1) {
                    document.getElementById('InputEmail').value = document.getElementById('InputEmail').value
                            + $(this).parents('tr').find('td:eq(1)').html() + ";";
                }
            }
         });
*/


    </script>
</html>
